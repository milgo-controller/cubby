From 4452353591186e27fcfabcbaf11bcb0594c3bbcf Mon Sep 17 00:00:00 2001
From: kochocinski <kochocinski@gmail.com>
Date: Fri, 5 Sep 2014 19:50:48 +0200
Subject: [PATCH] MySQL patch

---
 pom.xml                                   |  6 ++++++
 src/main/webapp/WEB-INF/cubby-servlet.xml | 12 ++++++------
 2 files changed, 12 insertions(+), 6 deletions(-)

diff --git a/pom.xml b/pom.xml
index adc7635..f52b7fa 100644
--- a/pom.xml
+++ b/pom.xml
@@ -222,6 +222,12 @@
 		<scope>test</scope>
 	</dependency>
 	
+	<dependency>
+	   <groupId>mysql</groupId>
+	   <artifactId>mysql-connector-java</artifactId>
+	   <version>5.1.13</version>
+	</dependency>
+	
     <dependency>
 		<groupId>org.hibernate</groupId>
 		<artifactId>hibernate-validator</artifactId>
diff --git a/src/main/webapp/WEB-INF/cubby-servlet.xml b/src/main/webapp/WEB-INF/cubby-servlet.xml
index c12ced5..50f6a9c 100644
--- a/src/main/webapp/WEB-INF/cubby-servlet.xml
+++ b/src/main/webapp/WEB-INF/cubby-servlet.xml
@@ -26,11 +26,11 @@
 	<property name="suffix" value=".jsp" />
 </bean>
 
-<bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource">
-	<property name="driverClassName" value="org.hsqldb.jdbcDriver" />
-	<property name="url" value="jdbc:hsqldb:hsql://localhost:9001/cubby" />
-	<property name="username" value="SA" />
-	<property name="password" value="" />
+<bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource">
+	<property name="driverClassName" value="com.mysql.jdbc.Driver" />
+	<property name="url" value="jdbc:mysql://localhost:3306/cubby" />
+	<property name="username" value="root" />
+	<property name="password" value="licencjat1234$" />
 </bean>
 
 <bean id="sessionFactory" class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">
@@ -51,7 +51,7 @@
 	</property>
 	<property name="hibernateProperties">
 		<props>			
-			<prop key="dialect">org.hibernate.dialect.HSQLDialect</prop>
+			<prop key="dialect">org.hibernate.dialect.MySQLDialect</prop>
 			<prop key="hibernate.show_sql">true</prop>
 			<prop key="hibernate.cache.region.factory_class">net.sf.ehcache.hibernate.SingletonEhCacheRegionFactory</prop>
 			<prop key="hibernate.cache.use_second_level_cache">true</prop>			
-- 
1.9.4.msysgit.1

